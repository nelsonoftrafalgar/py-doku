(this["webpackJsonppy-doku"]=this["webpackJsonppy-doku"]||[]).push([[0],{52:function(t,e,n){"use strict";n.r(e);var r,c=n(1),o=n.n(c),i=n(23),a=n.n(i),s=n(2);!function(t){t.TOGGLE_HINTS="TOGGLE_HINTS",t.UPDATE_BOARD="UPDATE_BOARD",t.ANALYZE_BOARD="ANALYZE_BOARD",t.CLEAR_HINTS="CLEAR_HINTS",t.SET_LEVEL="SET_LEVEL",t.SET_BOARD="SET_BOARD",t.RESET_GAME="RESET_GAME",t.SET_ERROR="SET_ERROR"}(r||(r={}));var d,l,u,b,j,O,h,f,p,x,g,v,E,y,m,S,T,R,_,A,B=o.a.createContext({}),L=n(3),w=n(0),C=L.b.div(d||(d=Object(s.a)(["\n\twidth: 200px;\n\theight: 100px;\n"]))),k=L.b.div(l||(l=Object(s.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: space-around;\n"]))),I=L.b.button(u||(u=Object(s.a)(["\n\tcursor: pointer;\n\tbackground-color: transparent;\n\tborder: 1px solid #9e9e9e;\n\tfont-family: sans-serif;\n\tpadding: 15px;\n\tcolor: #9e9e9e;\n"]))),H=L.b.span(b||(b=Object(s.a)(["\n\tfont-family: sans-serif;\n\tcolor: #9e9e9e;\n"]))),D=Object(L.b)(H)(j||(j=Object(s.a)(["\n\tdisplay: block;\n\tmargin-top: 10px;\n\ttext-align: center;\n"]))),F=L.b.span(O||(O=Object(s.a)(["\n\tfont-weight: 600;\n\t","\n"])),(function(t){var e=t.color;return"color: ".concat(e)})),N=function(){var t=Object(c.useContext)(B),e=t.dispatch,n=t.showHints,o=t.hints;return Object(w.jsxs)(C,{children:[Object(w.jsx)(k,{children:Object(w.jsxs)(I,{"data-testid":"HINTS_SWITCH",onClick:function(){e({type:r.TOGGLE_HINTS})},children:["Show hints:"," ",Object(w.jsx)(F,{color:n?"green":"red",children:n?"on":"off"})]})}),Object(w.jsx)(D,{children:o.join(" ")})]})},G=L.b.h1(h||(h=Object(s.a)(["\n\tfont-family: sans-serif;\n\tcolor: #9e9e9e;\n\tmargin-bottom: 15px;\n"]))),z=L.b.p(f||(f=Object(s.a)(["\n\tfont-family: sans-serif;\n\tcolor: #9e9e9e;\n\tmargin-bottom: 10px;\n"]))),M=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(G,{children:"Instructions"}),Object(w.jsx)(z,{children:"Hover over cell and scroll to change number"}),Object(w.jsx)(z,{children:"Click button and hover over cell to view hints"})]})},P=L.b.button(p||(p=Object(s.a)(["\n\tcursor: pointer;\n\tbackground-color: transparent;\n\tborder: 1px solid #9e9e9e;\n\tfont-family: sans-serif;\n\tpadding: 15px;\n\tcolor: #9e9e9e;\n\tmargin-top: 40px;\n"]))),Y=function(){var t=Object(c.useContext)(B).dispatch;return Object(w.jsx)(P,{onClick:function(){return t({type:r.RESET_GAME})},children:"Reset game"})},U=Object(L.b)("div")(x||(x=Object(s.a)(["\n\tmax-width: 100%;\n\tdisplay: flex;\n\t","\n\t","\n  ","\n  ","\n"])),(function(t){var e=t.direction;return"flex-direction: ".concat(e,";")}),(function(t){var e=t.mt;return"margin-top: ".concat(e,"px;")}),(function(t){var e=t.pb;return"padding-bottom: ".concat(e,"px;")}),(function(t){var e=t.expand;return"flex-grow: ".concat(e?1:0,";")})),V=function(t){var e=t.children,n=t.mt,r=void 0===n?"0":n,c=t.pb,o=void 0===c?"0":c,i=t.direction,a=void 0===i?"row":i,s=t.expand,d=void 0!==s&&s;return Object(w.jsx)(U,{direction:a,mt:r,expand:d,pb:o,children:e})},Z=Object(L.b)("div")(g||(g=Object(s.a)(["\n\t","\n"])),(function(t){var e=t.size;return"width: calc(".concat(e," / 12 * 100%);")})),J=function(t){var e=t.children,n=t.size;return Object(w.jsx)(Z,{size:n,children:e})},W=n(6),q={1:"#65b96e",2:"#599dbc",3:"#e69448",4:"#c1806c",5:"#43ae9e",6:"#866373",7:"#a2934c",8:"#8ca5a2",9:"#e7b714"},K=L.b.div(v||(v=Object(s.a)(["\n\tborder: 1px solid gray;\n\theight: 50px;\n\twidth: 100%;\n\tfont-size: 36px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-family: sans-serif;\n\t",";\n\t",";\n"])),(function(t){var e=t.color;return"color: ".concat(e)}),(function(t){var e=t.background;return"background: ".concat(e)})),Q=function(t){var e=t.value,n=t.id,o=Object(c.useContext)(B).dispatch,i=Object(c.useState)(0),a=Object(W.a)(i,2),s=a[0],d=a[1],l=Object(c.useRef)(!0),u=e?"#e7e0e0":"black";Object(c.useEffect)((function(){l.current||o({type:r.UPDATE_BOARD,payload:{id:n,value:s}}),l.current=!1}),[s,o,n]);return Object(w.jsx)(K,{"data-testid":"CELL_CONTAINER",color:u,background:q[e||s],onWheel:function(t){t.deltaY<0&&s<9&&d(s+1),t.deltaY>0&&s>0&&d(s-1)},onMouseEnter:function(){e||s||o({type:r.ANALYZE_BOARD,payload:{id:n}})},onMouseLeave:function(){e||o({type:r.CLEAR_HINTS})},children:e||(0!==s?s:null)})},X=L.b.div(E||(E=Object(s.a)(["\n\twidth: 150px;\n\tborder: 2px solid gray;\n"]))),$=function(t){var e=t.values,n=t.keys,r=e.map((function(t,e){return Object(w.jsx)(J,{size:4,children:Object(w.jsx)(Q,{id:n[e],value:t})},n[e])}));return Object(w.jsxs)(X,{children:[Object(w.jsx)(V,{children:r.slice(0,3)}),Object(w.jsx)(V,{children:r.slice(3,6)}),Object(w.jsx)(V,{children:r.slice(6)})]})},tt=L.b.span(y||(y=Object(s.a)(["\n\tfont-family: sans-serif;\n\tcolor: #9e9e9e;\n\tmargin-right: 10px;\n"]))),et=L.b.div(m||(m=Object(s.a)(["\n\tdisplay: flex;\n\tmargin: 20px 0;\n\talign-items: center;\n"]))),nt=L.b.button(S||(S=Object(s.a)(["\n\tpadding: 5px;\n\tbackground-color: transparent;\n\tfont-family: sans-serif;\n\tcolor: #9e9e9e;\n\tborder: 1px solid #9e9e9e;\n\tcursor: pointer;\n"]))),rt=L.b.select(T||(T=Object(s.a)(["\n\tbackground-color: transparent;\n\tborder: 1px solid #9e9e9e;\n\tcolor: #9e9e9e;\n\tpadding: 5px;\n"]))),ct=L.b.p(R||(R=Object(s.a)(["\n\tfont-family: sans-serif;\n\tcolor: red;\n\tmargin-top: 30px;\n"]))),ot=function(){var t=Object(c.useContext)(B),e=t.dispatch,n=t.isFetchingBoard,o=t.error,i=Object(c.useState)("0.6"),a=Object(W.a)(i,2),s=a[0],d=a[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(et,{children:[Object(w.jsx)(tt,{children:"Select level"}),Object(w.jsxs)(rt,{onChange:function(t){return d(t.currentTarget.value)},children:[Object(w.jsx)("option",{value:"0.6",children:"very easy"}),Object(w.jsx)("option",{value:"0.5",children:"easy"}),Object(w.jsx)("option",{value:"0.4",children:"medium"}),Object(w.jsx)("option",{value:"0.3",children:"hard"}),Object(w.jsx)("option",{value:"0.2",children:"very hard"}),Object(w.jsx)("option",{value:"0.1",children:"killer"})]})]}),Object(w.jsx)(nt,{disabled:n,onClick:function(){return e({type:r.SET_LEVEL,payload:{level:s}})},children:n?"Loading...":"Start game"}),o&&Object(w.jsx)(ct,{children:o})]})},it=n(7),at=new function t(){var e=this;Object(it.a)(this,t),this.sectors=[["00","01","02","10","11","12","20","21","22"],["03","04","05","13","14","15","23","24","25"],["06","07","08","16","17","18","26","27","28"],["30","31","32","40","41","42","50","51","52"],["33","34","35","43","44","45","53","54","55"],["36","37","38","46","47","48","56","57","58"],["60","61","62","70","71","72","80","81","82"],["63","64","65","73","74","75","83","84","85"],["66","67","68","76","77","78","86","87","88"]],this.getSectorItemCoords=function(t,n){return e.sectors[t][n].split("").map((function(t){return+t}))},this.getSectorById=function(t){return e.sectors.find((function(e){return e.includes(t)}))},this.getSectorIndex=function(t){return e.sectors.indexOf(e.getSectorById(t))}},st=at.sectors,dt=(at.getSectorById,at.getSectorIndex),lt=at.getSectorItemCoords,ut=L.b.div(_||(_=Object(s.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\theight: 100vh;\n\tflex-direction: column;\n\tbackground: #dbf4fc;\n"]))),bt=function(t){var e=t.data,n=e.map((function(t,e){return Object(w.jsx)($,{values:t,keys:st[e]},e)}));return Object(w.jsx)(ut,{children:0===e.length?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(M,{}),Object(w.jsx)(ot,{})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(N,{}),Object(w.jsxs)("div",{children:[Object(w.jsx)(V,{children:n.slice(0,3)}),Object(w.jsx)(V,{children:n.slice(3,6)}),Object(w.jsx)(V,{children:n.slice(6)})]}),Object(w.jsx)(Y,{})]})})},jt=n(27),Ot=n.n(jt),ht=function(t){return t.map((function(t){return t.slice()}))},ft=(new function t(){Object(it.a)(this,t),this.mapBoradToSectors=function(t){var e=ht(t);return e.forEach((function(n,r){return n.forEach((function(n,c){var o=lt(r,c),i=Object(W.a)(o,2),a=i[0],s=i[1];e[a][s]=t[r][c]}))})),e}}).mapBoradToSectors,pt=n(4),xt=n(28),gt=function(t){return t.split("").map((function(t){return+t}))},vt=new function t(){Object(it.a)(this,t),this.analyzeBoard=function(t,e){var n=t.id,r=[],c=ft(e),o=dt(n),i=gt(n),a=Object(W.a)(i,2),s=a[0],d=a[1];[0,1,2,3,4,5,6,7,8].forEach((function(t){var n=e[s][t],c=e[t][d];r.push(n,c)}));var l=[].concat(r,Object(xt.a)(c[o]));return[1,2,3,4,5,6,7,8,9].filter((function(t){return!l.includes(t.toString())}))},this.updateBoard=function(t,e){var n=t.id,r=t.value,c=ht(e),o=gt(n),i=Object(W.a)(o,2),a=i[0],s=i[1];return c[a][s]=r.toString(),c}},Et=vt.analyzeBoard,yt=vt.updateBoard,mt=function(t,e){switch(e.type){case r.UPDATE_BOARD:return Object(pt.a)(Object(pt.a)({},t),{},{board:yt(e.payload,t.board)});case r.TOGGLE_HINTS:return Object(pt.a)(Object(pt.a)({},t),{},{showHints:!t.showHints});case r.ANALYZE_BOARD:return Object(pt.a)(Object(pt.a)({},t),{},{hints:t.showHints?Et(e.payload,t.board):[]});case r.CLEAR_HINTS:return Object(pt.a)(Object(pt.a)({},t),{},{hints:[]});case r.SET_LEVEL:return Object(pt.a)(Object(pt.a)({},t),{},{level:e.payload.level,isFetchingBoard:!0,error:null});case r.SET_BOARD:return Object(pt.a)(Object(pt.a)({},t),{},{board:e.payload.data,isFetchingBoard:!1});case r.RESET_GAME:return St;case r.SET_ERROR:return Object(pt.a)(Object(pt.a)({},t),{},{error:e.payload.error,isFetchingBoard:!1});default:return t}},St={level:null,board:[],showHints:!1,hints:[],isFetchingBoard:!1,error:null},Tt=function(t){var e=t.render,n=Object(c.useReducer)(mt,St),o=Object(W.a)(n,2),i=o[0],a=o[1];Object(c.useEffect)((function(){i.level&&Ot.a.get("/api",{params:{level:i.level}}).then((function(t){a({type:r.SET_BOARD,payload:{data:t.data}})})).catch((function(){a({type:r.SET_ERROR,payload:{error:"Sorry, but an api error happend. Try again or refresh page."}})}))}),[i.level]);var s={showHints:i.showHints,hints:i.hints,dispatch:a,isFetchingBoard:i.isFetchingBoard,error:i.error},d=Object(c.useMemo)((function(){return ft(i.board)}),[i.board.length]);return Object(w.jsx)(B.Provider,{value:s,children:e(d)})},Rt=Object(L.a)(A||(A=Object(s.a)(["\n  * {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  box-sizing: border-box;\n}"]))),_t=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Rt,{}),Object(w.jsx)(Tt,{render:function(t){return Object(w.jsx)(bt,{data:t})}})]})},At=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),r(t),c(t),o(t),i(t)}))};a.a.render(Object(w.jsx)(c.StrictMode,{children:Object(w.jsx)(_t,{})}),document.getElementById("root")),At()}},[[52,1,2]]]);
//# sourceMappingURL=main.5e46267d.chunk.js.map